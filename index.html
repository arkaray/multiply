<html>
<head>
	<style>
	button{
		padding: 10% 48.7%;
	}
	</style>
	<title>Multiply</title>
</head>
<body>
	<textarea id="output_area" style="width:100%; height:50%"></textarea>
	<script>
	function output(text) {
		document.getElementById("output_area").append(text + "\n\n");
	}
	var Module = {
		'print': function (text) {
			output("print\n" + text);
		},
		'printErr': function (text) {
			output("printErr\n" + text);
		},
	};
	var loading = new Promise(function(resolve, reject) {
		Module['onRuntimeInitialized'] = function(){
			resolve("done");
		};
	});
	</script>
	<script src="multiply.js"></script>
	<button onclick="printXY(event)">Click</button>
	<script>
		async function printXY(e){
			await loading;
			x=e.clientX;
			y=e.clientY;
			Module.print(x+"*"+y+"="+Module._multiply(x,y));
		}
	</script>

	<script>
		document.getElementsByTagName('button')[0].click();
	</script>
</body>
</html>
